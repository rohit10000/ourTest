{"ast":null,"code":"export const register = (state, setShow) => {\n  let email = document.getElementById(\"email\").value;\n  let firstname = document.getElementById(\"firstname\").value;\n  let lastname = document.getElementById(\"lastname\").value;\n  let password = document.getElementById(\"password\").value;\n\n  const checkEmail = (email, users) => {\n    let numberOfUsers = users.length;\n\n    for (let i = 0; i < numberOfUsers; i++) {\n      if (email == users[i].email) return true;\n    }\n\n    return false;\n  };\n\n  let emailExists = checkEmail(email, state.users);\n\n  if (emailExists) {\n    console.log(\"Email is already registered.\");\n    setShow(true);\n  } else {\n    let userInfo = {\n      \"firstname\": firstname,\n      \"lastname\": lastname,\n      \"email\": email,\n      \"password\": password\n    };\n    fetch('http://localhost:5000/users/signup', {\n      method: 'POST',\n      // or 'PUT'\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userInfo)\n    }).then(response => response.json()).then(data => {\n      console.log('successfully Registered', data);\n      dispatch({\n        type: \"ADD_USER\",\n        item: data\n      });\n      history.push(\"/login\");\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  }\n};","map":{"version":3,"sources":["/home/rohit/Public/test_system_frontend/src/utility/authenticateUtility.js"],"names":["register","state","setShow","email","document","getElementById","value","firstname","lastname","password","checkEmail","users","numberOfUsers","length","i","emailExists","console","log","userInfo","fetch","method","headers","body","JSON","stringify","then","response","json","data","dispatch","type","item","history","push","catch","error"],"mappings":"AACA,OAAO,MAAOA,QAAQ,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAmB;AACxC,MAAIC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAA7C;AACA,MAAIC,SAAS,GAAGH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArD;AACA,MAAIE,QAAQ,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAAnD;AACA,MAAIG,QAAQ,GAAGL,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAAnD;;AAEA,QAAMI,UAAU,GAAG,CAACP,KAAD,EAAQQ,KAAR,KAAkB;AACjC,QAAIC,aAAa,GAAGD,KAAK,CAACE,MAA1B;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,aAAf,EAA8BE,CAAC,EAA/B,EAAkC;AAC9B,UAAGX,KAAK,IAAIQ,KAAK,CAACG,CAAD,CAAL,CAASX,KAArB,EACI,OAAO,IAAP;AACP;;AACD,WAAO,KAAP;AACH,GAPD;;AASA,MAAIY,WAAW,GAAGL,UAAU,CAACP,KAAD,EAAQF,KAAK,CAACU,KAAd,CAA5B;;AAEA,MAAGI,WAAH,EAAe;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACAf,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAHD,MAII;AACA,QAAIgB,QAAQ,GAAG;AACX,mBAAaX,SADF;AAEX,kBAAYC,QAFD;AAGX,eAASL,KAHE;AAIX,kBAAYM;AAJD,KAAf;AAOAU,IAAAA,KAAK,CAAC,oCAAD,EAAuC;AACxCC,MAAAA,MAAM,EAAE,MADgC;AACxB;AAChBC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF+B;AAKxCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,QAAf;AALkC,KAAvC,CAAL,CAOKO,IAPL,CAOUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPtB,EAQKF,IARL,CAQUG,IAAI,IAAI;AACVZ,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCW,IAAvC;AACAC,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAE,UADD;AAELC,QAAAA,IAAI,EAAEH;AAFD,OAAD,CAAR;AAIAI,MAAAA,OAAO,CAACC,IAAR,CAAa,QAAb;AACH,KAfL,EAgBKC,KAhBL,CAgBYC,KAAD,IAAW;AACdnB,MAAAA,OAAO,CAACmB,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACH,KAlBL;AAmBH;AAEJ,CAlDM","sourcesContent":["\nexport const  register = (state, setShow) =>{\n    let email = document.getElementById(\"email\").value;\n    let firstname = document.getElementById(\"firstname\").value;\n    let lastname = document.getElementById(\"lastname\").value;\n    let password = document.getElementById(\"password\").value;\n\n    const checkEmail = (email, users) => {\n        let numberOfUsers = users.length;\n        for(let i=0; i<numberOfUsers; i++){\n            if(email == users[i].email)\n                return true;\n        }\n        return false;\n    }\n\n    let emailExists = checkEmail(email, state.users);\n\n    if(emailExists){\n        console.log(\"Email is already registered.\");\n        setShow(true);\n    }\n    else{\n        let userInfo = {\n            \"firstname\": firstname,\n            \"lastname\": lastname,\n            \"email\": email,\n            \"password\": password\n        };\n\n        fetch('http://localhost:5000/users/signup', {\n            method: 'POST', // or 'PUT'\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(userInfo),\n        })\n            .then(response => response.json())\n            .then(data => {\n                console.log('successfully Registered', data);\n                dispatch({\n                    type: \"ADD_USER\",\n                    item: data\n                })\n                history.push(\"/login\");\n            })\n            .catch((error) => {\n                console.error('Error:', error);\n            });\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}