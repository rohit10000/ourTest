{"ast":null,"code":"var _jsxFileName = \"/home/rohit/Public/test_system/src/components/Section.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Subject from \"./Subject\";\nimport \"./Section.css\";\nimport { useStateValue } from \"./StateProvider\";\n\nfunction Section() {\n  const [state, dispatch] = useStateValue();\n  const [stream, setStream] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:5000/tests/${state.testId}`).then(res => res.json()).then(data => {\n      console.log(data);\n      dispatch({\n        type: 'UPDATE_TEST_STREAMS_INFO',\n        item: data.stream\n      });\n    });\n    setStream(state.testStreamsInfo);\n    return () => {};\n  }, [state]);\n\n  const toggleSubject = function (index, id) {\n    dispatch({\n      type: 'UPDATE_TEST_STREAM_ID',\n      item: id\n    });\n    setStream(stream.map((info, i) => {\n      if (i == index) {\n        info.open = !info.open;\n      } else {\n        info.open = false;\n      }\n\n      return info;\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, state.testTitle), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"subsection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, stream.map((info, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Subject, {\n      index: i,\n      toggleSubject: toggleSubject,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 29\n      }\n    }));\n  })));\n}\n\nexport default Section;","map":{"version":3,"sources":["/home/rohit/Public/test_system/src/components/Section.js"],"names":["React","useEffect","useState","Subject","useStateValue","Section","state","dispatch","stream","setStream","fetch","testId","then","res","json","data","console","log","type","item","testStreamsInfo","toggleSubject","index","id","map","info","i","open","testTitle"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,eAAP;AACA,SAAQC,aAAR,QAA4B,iBAA5B;;AAGA,SAASC,OAAT,GAAkB;AACd,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBH,aAAa,EAAvC;AAEA,QAAM,CAACI,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AAEAD,EAAAA,SAAS,CAAC,MAAI;AACVS,IAAAA,KAAK,CAAE,+BAA8BJ,KAAK,CAACK,MAAO,EAA7C,CAAL,CACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAR,MAAAA,QAAQ,CAAC;AACLW,QAAAA,IAAI,EAAE,0BADD;AAELC,QAAAA,IAAI,EAAEJ,IAAI,CAACP;AAFN,OAAD,CAAR;AAKH,KATL;AAWAC,IAAAA,SAAS,CAACH,KAAK,CAACc,eAAP,CAAT;AACA,WAAO,MAAI,CAAE,CAAb;AACH,GAdQ,EAcN,CAACd,KAAD,CAdM,CAAT;;AAgBA,QAAMe,aAAa,GAAG,UAAUC,KAAV,EAAiBC,EAAjB,EAAoB;AACtChB,IAAAA,QAAQ,CAAC;AACLW,MAAAA,IAAI,EAAE,uBADD;AAELC,MAAAA,IAAI,EAAEI;AAFD,KAAD,CAAR;AAIAd,IAAAA,SAAS,CAACD,MAAM,CAACgB,GAAP,CAAW,CAACC,IAAD,EAAOC,CAAP,KAAY;AAC7B,UAAGA,CAAC,IAAIJ,KAAR,EAAc;AACVG,QAAAA,IAAI,CAACE,IAAL,GAAY,CAACF,IAAI,CAACE,IAAlB;AACH,OAFD,MAGI;AACAF,QAAAA,IAAI,CAACE,IAAL,GAAY,KAAZ;AACH;;AACD,aAAOF,IAAP;AACH,KARS,CAAD,CAAT;AASH,GAdD;;AAgBA,sBACI;AAAK,IAAA,SAAS,EAAE,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKnB,KAAK,CAACsB,SAAX,CADJ,eAEI;AAAK,IAAA,SAAS,EAAE,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKpB,MAAM,CAACgB,GAAP,CAAW,CAACC,IAAD,EAAOC,CAAP,KAAa;AACrB,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEA,CAAhB;AACS,MAAA,aAAa,EAAIL,aAD1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ;AAOH,GARA,CADL,CAFJ,CADJ;AAgBH;;AACD,eAAehB,OAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Subject from \"./Subject\";\nimport \"./Section.css\";\nimport {useStateValue} from \"./StateProvider\";\n\n\nfunction Section(){\n    const [state, dispatch] = useStateValue();\n\n    const [stream, setStream] = useState([]);\n\n    useEffect(()=>{\n        fetch(`http://localhost:5000/tests/${state.testId}`)\n            .then(res => res.json())\n            .then(data => {\n                console.log(data);\n                dispatch({\n                    type: 'UPDATE_TEST_STREAMS_INFO' ,\n                    item: data.stream\n                });\n\n            });\n\n        setStream(state.testStreamsInfo);\n        return ()=>{}\n    }, [state]);\n\n    const toggleSubject = function (index, id){\n        dispatch({\n            type: 'UPDATE_TEST_STREAM_ID' ,\n            item: id\n        })\n        setStream(stream.map((info, i) =>{\n            if(i == index){\n                info.open = !info.open\n            }\n            else{\n                info.open = false;\n            }\n            return info;\n        }))\n    };\n\n    return(\n        <div className={\"section\"}>\n            <h1>{state.testTitle}</h1>\n            <div className={\"subsection\"}>\n                {stream.map((info, i) => {\n                    return(\n                        <div>\n                            <Subject index={i}\n                                     toggleSubject = {toggleSubject}\n                            />\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    );\n}\nexport default Section;\n"]},"metadata":{},"sourceType":"module"}